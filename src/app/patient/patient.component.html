<div class="box" fxLayoutAlign="start center" fxLayout="column">
    <div>
        <mat-card-title mat-dialog-title>
            <span *ngIf="!modify">
                Add Patient
            </span>
            <span *ngIf="!!modify">
                Update Patient
            </span>
        </mat-card-title>
    </div>
    <form mat-dialog-content [formGroup]="myForm" fxLayout="column" fxLayoutAlign="start center" class="container">
        <mat-tab-group animationDuration="0ms" fxLayout="column" fxLayoutAlign="center center">
            <mat-tab label="Personal Information" class="test" style="color: white">
                <div fxLayout="column" fxLayoutAlign="center center">

                    <mat-form-field appearance="fill">
                        <mat-label>Identity Card Number</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.identityCardNumber" name="identityCardNumber"
                            formControlName="identityCardNumber">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Name</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.firstName" name="firstName"
                            formControlName="firstName">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Last Name</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.lastName" name="lastName"
                            formControlName="lastName">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Address</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.address" name="address" formControlName="address">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Family Contact</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.familyContact" name="familyContact"
                            formControlName="familyContact">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Healthcare System</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.healthcareSystem" name="healthcareSystem"
                            formControlName="healthcareSystem">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Halthcare System Id</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.healthcareSystemId" name="healthcareSystemId"
                            formControlName="healthcareSystemId">
                    </mat-form-field>
                </div>
            </mat-tab>

            <mat-tab label="Hospital Information">
                <div fxLayout="column" fxLayoutAlign="start center" class="tab2">
                    <mat-form-field appearance="fill">
                        <mat-label>Room</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.hospitalRoom" name="hospitalRoom"
                            formControlName="hospitalRoom">
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>Bed</mat-label>
                        <input matInput [(ngModel)]="selectedPatient.hospitalBed" name="hospitalBed"
                            formControlName="hospitalBed">
                    </mat-form-field>
                    <div appearance="fill">
                        <div fxLayout="column" fxLayoutAlign="center center">
                            <!-- <mat-form-field appearance="fill" *ngIf="data.update">
                            <mat-label>Id:</mat-label>
                            <input matInput [disabled]="true"
                                [value]="selectedPatient.id" name="id">
                        </mat-form-field> -->
                        </div>
                        <div mat-dialog-actions fxLayout="column">
                            <mat-label>Attetion Hours</mat-label>
                            <div class="scroll table-container" *ngIf="!!selectedPatient.attentionHours.length">
                                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
                                    <!-- <ng-container matColumnDef="id">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="column"> ID </th>
                                        <td mat-cell *matCellDef="let element"> {{element.id}}
                                        </td>
                                    </ng-container> -->
                                    <ng-container matColumnDef="attentionHour">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header class="column"> Hours
                                        </th>
                                        <td mat-cell *matCellDef="let element"> {{element.attentionHour }}
                                        </td>
                                    </ng-container>
                                    <tr mat-header-row class="header" *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                </table>
                            </div>
                            <button mat-button class="btn action-hours"
                                (click)="addHours(selectedPatient.attentionHours)">
                                <span *ngIf="!selectedPatient.attentionHours.length">
                                    Add
                                </span>
                                <span *ngIf="!!selectedPatient.attentionHours.length">
                                    Update
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-tab>
        </mat-tab-group>
        <div mat-dialog-actions fxLayout="row" fxLayoutAlign="center center" class="actions">
            <button class="btn" mat-button (click)="update()" [disabled]="myForm.invalid">
                <span *ngIf="!modify">
                    Add
                </span>
                <span *ngIf="!!modify">
                    Update
                </span>
            </button>
            <button class="btn" mat-button (click)="cancel()">Cancel
            </button>
        </div>
    </form>
</div>